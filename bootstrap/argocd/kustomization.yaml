apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: argocd

resources:
  - namespace.yaml

helmCharts:
  - name: argo-cd
    repo: https://argoproj.github.io/argo-helm
    version: 8.3.0
    releaseName: argocd-dev
    namespace: argocd
    valuesInline:
      configs:
        params:
          server.insecure: true
      server:
        service:
          type: ClusterIP
        ingress:
          enabled: false
      controller:
        replicas: 1
      repoServer:
        replicas: 1
      applicationSet:
        enabled: true
      notifications:
        enabled: false
